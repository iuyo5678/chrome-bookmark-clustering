(lp0
S'http://www.wklken.me/posts/2015/03/03/python-base-datetime.html#1-datetime'
p1
aS'Python-\xe5\x9f\xba\xe7\xa1\x80-\xe6\x97\xb6\xe9\x97\xb4\xe6\x97\xa5\xe6\x9c\x9f\xe5\xa4\x84\xe7\x90\x86\xe5\xb0\x8f\xe7\xbb\x93'
p2
aI0
aV<!DOCTYPE html>\u000a<html lang="en">\u000a\u000a<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->\u000a<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->\u000a\u000a<head>\u000a    <meta name="google-site-verification" content="SzE6WCs23qFevgBzRIuG9vcfLU0lW_Vd5hFT-cJOLBE" />\u000a    <title>Python-\u57fa\u7840-\u65f6\u95f4\u65e5\u671f\u5904\u7406\u5c0f\u7ed3</title>\u000a    <meta charset="utf-8" />\u000a    <meta name="description" content="">\u000a    <meta name="keywords" content="" />\u000a    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\u000a    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\u000a\u000a        <link rel="shortcut icon" href="/favicon.ico"/>\u000a        <link rel="stylesheet" href="/theme/css/styles.css" media="all" />\u000a        <link rel="stylesheet" href="/theme/css/monokai.css" media="all" />\u000a        <link rel="stylesheet" href="/theme/css/tab.min.css" media="all" />\u000a        <link rel="stylesheet" href="/theme/css/jquery-ui.min.css" media="all" />\u000a\u000a        <link rel="stylesheet" href="/theme/css/font-awesome.min.css">\u000a        <!--\u000a        <link rel="stylesheet" href="http://apps.bdimg.com/libs/fontawesome/4.2.0/css/font-awesome.min.css">\u000a        -->\u000a        <!--[if IE 7]>\u000a            <link rel="stylesheet" href="/theme/css/font-awesome-ie7.min.css">\u000a        <![endif]-->\u000a\u000a        <link href="/" type="application/atom+xml" rel="alternate" title="wklken's blog ATOM Feed" />\u000a        <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="wklken's blog RSS Feed" />\u000a\u000a</head>\u000a\u000a<body>\u000a    <div id="page" class="row">\u000a        <div class="large-9 large-centered columns">\u000a\u000a        <header id="header">\u000a            <div class="constraint">\u000a                <div class="o">\u000a                    <a href="/"><h1 class="banner">Wklken <span class="blue"> Building </span></h1></a>\u000a\u000a                <div class="social">\u000a                            <a href="https://github.com/wklken" target='_blank'><i class="icon-github-sign icon-2x"></i></a>\u000a                            <a href="http://weibo.com/wklken" target='_blank'><i class="icon-weibo icon-2x"></i></a>\u000a                            <a href="mailto:wklken@yeah.net"><i class="icon-envelope icon-2x"></i></a>\u000a                            <a href="http://www.wklken.me/feed.xml" target='_blank'><i class="icon-rss-sign icon-2x"></i></a>\u000a                </div>\u000a                <div class="nav">\u000a                            <a href="/">\u9996\u9875</a>\u000a                            <a href="/categories.html">\u5206\u7c7b</a>\u000a                            <a href="/archives.html">\u5f52\u6863</a>\u000a                            <a href="/pages/projects.html">\u9879\u76ee</a>\u000a                            <a href="/pages/links.html">\u53cb\u94fe</a>\u000a                            <a href="/pages/aboutme.html">\u5173\u4e8e</a>\u000a\u000a                </div>\u000a\u000a                </div>\u000a            </div>\u000a        </header><!-- /#banner -->\u000a\u000a        <section id="main">\u000a\u000a\u000a<article id="article">\u000a    <section id="header">\u000a        <!--\u000a        <div class="meta">2015\u5e7403\u670803\u65e5</div>\u000a        <h1 id="title"> Python-\u57fa\u7840-\u65f6\u95f4\u65e5\u671f\u5904\u7406\u5c0f\u7ed3 </h1>\u000a        -->\u000a        <div class="meta"> &nbsp; </div>\u000a        <h1> Python-\u57fa\u7840-\u65f6\u95f4\u65e5\u671f\u5904\u7406\u5c0f\u7ed3 </h1>\u000a    </section>\u000a\u000a        <section id="toc">\u000a            <div id="toc"><ul><li><a class="toc-href" href="#" title="Python-\u57fa\u7840-\u65f6\u95f4\u65e5\u671f\u5904\u7406\u5c0f\u7ed3">Python-\u57fa\u7840-\u65f6\u95f4\u65e5\u671f\u5904\u7406\u5c0f\u7ed3</a><ul><li><a class="toc-href" href="#_1" title="\u6d89\u53ca\u5bf9\u8c61">\u6d89\u53ca\u5bf9\u8c61</a><ul><li><a class="toc-href" href="#1-datetime" title="1. datetime">1. datetime</a></li><li><a class="toc-href" href="#2-timestamp" title="2. timestamp">2. timestamp</a></li><li><a class="toc-href" href="#3-time-tuple" title="3. time tuple">3. time tuple</a></li><li><a class="toc-href" href="#4-string" title="4. string">4. string</a></li><li><a class="toc-href" href="#5-date" title="5. date">5. date</a></li></ul></li><li><a class="toc-href" href="#datetime_1" title="datetime\u57fa\u672c\u64cd\u4f5c">datetime\u57fa\u672c\u64cd\u4f5c</a><ul><li><a class="toc-href" href="#1-datetime_1" title="1. \u83b7\u53d6\u5f53\u524ddatetime">1. \u83b7\u53d6\u5f53\u524ddatetime</a></li><li><a class="toc-href" href="#2-date" title="2. \u83b7\u53d6\u5f53\u5929date">2. \u83b7\u53d6\u5f53\u5929date</a></li><li><a class="toc-href" href="#3-n" title="3. \u83b7\u53d6\u660e\u5929/\u524dN\u5929">3. \u83b7\u53d6\u660e\u5929/\u524dN\u5929</a></li><li><a class="toc-href" href="#4-000000-235959" title="4. \u83b7\u53d6\u5f53\u5929\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4(00:00:00 23:59:59)">4. \u83b7\u53d6\u5f53\u5929\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4(00:00:00 23:59:59)</a></li><li><a class="toc-href" href="#5-datetime" title="5. \u83b7\u53d6\u4e24\u4e2adatetime\u7684\u65f6\u95f4\u5dee">5. \u83b7\u53d6\u4e24\u4e2adatetime\u7684\u65f6\u95f4\u5dee</a></li><li><a class="toc-href" href="#6" title="6. \u83b7\u53d6\u672c\u5468/\u672c\u6708/\u4e0a\u6708\u6700\u540e\u4e00\u5929">6. \u83b7\u53d6\u672c\u5468/\u672c\u6708/\u4e0a\u6708\u6700\u540e\u4e00\u5929</a></li></ul></li><li><a class="toc-href" href="#_3" title="\u5173\u7cfb\u8f6c\u6362">\u5173\u7cfb\u8f6c\u6362</a></li><li><a class="toc-href" href="#_4" title="\u5173\u7cfb\u8f6c\u6362\u4f8b\u5b50">\u5173\u7cfb\u8f6c\u6362\u4f8b\u5b50</a><ul><li><a class="toc-href" href="#datetime-string" title="datetime &lt;=&gt; string">datetime &lt;=&gt; string</a></li><li><a class="toc-href" href="#datetime-timetuple" title="datetime &lt;=&gt; timetuple">datetime &lt;=&gt; timetuple</a></li><li><a class="toc-href" href="#datetime-date" title="datetime &lt;=&gt; date">datetime &lt;=&gt; date</a></li><li><a class="toc-href" href="#datetime-timestamp" title="datetime &lt;=&gt; timestamp">datetime &lt;=&gt; timestamp</a></li></ul></li></ul></li></ul></div>\u000a        </section>\u000a    <section id="content">\u000a        <p>\u597d\u4e45\u6ca1\u5199\u6587\u4e86, \u7ee7\u7eed\u6e05\u7406\u7b14\u8bb0, \u90fd\u662f\u4e00\u4e9b\u5c0f\u7ed3\u4e4b\u7c7b\u7684, \u6e90\u7801\u5206\u6790\u4ee5\u53ca\u5728\u505a\u7cfb\u7edf\u4e2d\u4e00\u4e9b\u7ec6\u8282\u96be\u70b9\u7b49, \u540e\u7eed\u9010\u6b65\u53d1</p>\u000a<p>\u53e6\u5916\u6253\u4e2a\u5e7f\u544a, <a href="http://www.itianpin.com/join">\u751c\u54c1\u793c\u7269</a>, \u5750\u6807\u6df1\u5733, \u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7ed9\u6211\u53d1\u90ae\u4ef6, \u975epython\u804c\u4f4d\u4f1a\u8f6c\u5230\u5bf9\u5e94\u540c\u4e8b:)</p>\u000a<div class="monokai"><pre><span></span>      _       _       _   _\u000a     | |     | |     | | (_)\u000a   __| | __ _| |_ ___| |_ _ _ __ ___   ___\u000a  / _` |/ _` | __/ _ \u005c __| | '_ ` _ \u005c / _ \u005c\u000a | (_| | (_| | ||  __/ |_| | | | | | |  __/\u000a  \u005c__,_|\u005c__,_|\u005c__\u005c___|\u005c__|_|_| |_| |_|\u005c___|\u000a</pre></div>\u000a<hr/>\u000a<p>\u539f\u5219, \u4ee5<code>datetime</code>\u4e3a\u4e2d\u5fc3, \u8d77\u70b9\u6216\u4e2d\u8f6c, \u8f6c\u5316\u4e3a\u76ee\u6807\u5bf9\u8c61, \u6db5\u76d6\u4e86\u5927\u591a\u6570\u4e1a\u52a1\u573a\u666f\u4e2d\u9700\u8981\u7684\u65e5\u671f\u8f6c\u6362\u5904\u7406</p>\u000a<p>\u6b65\u9aa4:</p>\u000a<div class="monokai"><pre><span></span>1. \u638c\u63e1\u51e0\u79cd\u5bf9\u8c61\u53ca\u5176\u5173\u7cfb\u000a2. \u4e86\u89e3\u6bcf\u7c7b\u5bf9\u8c61\u7684\u57fa\u672c\u64cd\u4f5c\u65b9\u6cd5\u000a3. \u901a\u8fc7\u8f6c\u5316\u5173\u7cfb\u8f6c\u5316\u000a</pre></div>\u000a<h2 id="_1">\u6d89\u53ca\u5bf9\u8c61</h2>\u000a<h3 id="1-datetime">1. datetime</h3>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">946118</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>\u000a<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">'datetime.datetime'</span><span class="o">&gt;</span>\u000a</pre></div>\u000a<h3 id="2-timestamp">2. timestamp</h3>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">time</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>\u000a<span class="mf">1421075455.568243</span>\u000a</pre></div>\u000a<h3 id="3-time-tuple">3. time tuple</h3>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">time</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>\u000a<span class="n">time</span><span class="o">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2015</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>\u000a</pre></div>\u000a<h3 id="4-string">4. string</h3>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S"</span><span class="p">)</span>\u000a<span class="s1">'2015-01-12 23:13:08'</span>\u000a</pre></div>\u000a<h3 id="5-date">5. date</h3>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>\u000a</pre></div>\u000a<h2 id="datetime_1">datetime\u57fa\u672c\u64cd\u4f5c</h2>\u000a<h4 id="1-datetime_1">1. \u83b7\u53d6\u5f53\u524ddatetime</h4>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">475680</span><span class="p">)</span>\u000a</pre></div>\u000a<h4 id="2-date">2. \u83b7\u53d6\u5f53\u5929date</h4>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>\u000a</pre></div>\u000a<h4 id="3-n">3. \u83b7\u53d6\u660e\u5929/\u524dN\u5929</h4>\u000a<p>\u660e\u5929</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>\u000a</pre></div>\u000a<p>\u4e09\u5929\u524d</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">492226</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">59363</span><span class="p">)</span>\u000a</pre></div>\u000a<h4 id="4-000000-235959">4. \u83b7\u53d6\u5f53\u5929\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4(00:00:00 23:59:59)</h4>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">999999</span><span class="p">)</span>\u000a</pre></div>\u000a<h4 id="5-datetime">5. \u83b7\u53d6\u4e24\u4e2adatetime\u7684\u65f6\u95f4\u5dee</h4>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>\u000a<span class="mf">44747.768075</span>\u000a</pre></div>\u000a<h4 id="6">6. \u83b7\u53d6\u672c\u5468/\u672c\u6708/\u4e0a\u6708\u6700\u540e\u4e00\u5929</h4>\u000a<p>\u672c\u5468</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">today</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">sunday</span> <span class="o">=</span> <span class="n">today</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">6</span> <span class="o">-</span> <span class="n">today</span><span class="o">.</span><span class="n">weekday</span><span class="p">())</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">sunday</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>\u000a</pre></div>\u000a<p>\u672c\u6708</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">calendar</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span><span class="p">,</span> <span class="n">last_day_num</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">monthrange</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">last_day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">last_day_num</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">last_day</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>\u000a</pre></div>\u000a<p>\u83b7\u53d6\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929(\u53ef\u80fd\u8de8\u5e74)</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">first</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">lastMonth</span> <span class="o">=</span> <span class="n">first</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\u000a</pre></div>\u000a<h2 id="_3">\u5173\u7cfb\u8f6c\u6362</h2>\u000a<p>\u51e0\u4e2a\u5173\u7cfb\u4e4b\u95f4\u7684\u8f6c\u5316</p>\u000a<p><code>Datetime Object / String / timestamp / time tuple</code></p>\u000a<h2 id="_4">\u5173\u7cfb\u8f6c\u6362\u4f8b\u5b50</h2>\u000a<h4 id="datetime-string">datetime &lt;=&gt; string</h4>\u000a<p>datetime -&gt; string</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S"</span><span class="p">)</span>\u000a<span class="s1">'2015-01-12 23:13:08'</span>\u000a</pre></div>\u000a<p>string -&gt; datetime</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">"2014-12-31 18:20:10"</span><span class="p">,</span> <span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S"</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>\u000a</pre></div>\u000a<hr/>\u000a<h4 id="datetime-timetuple">datetime &lt;=&gt; timetuple</h4>\u000a<p>datetime -&gt; timetuple</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span>\u000a<span class="n">time</span><span class="o">.</span><span class="n">struct_time</span><span class="p">(</span><span class="n">tm_year</span><span class="o">=</span><span class="mi">2015</span><span class="p">,</span> <span class="n">tm_mon</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tm_mday</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">tm_hour</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">tm_min</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">tm_sec</span><span class="o">=</span><span class="mi">59</span><span class="p">,</span> <span class="n">tm_wday</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">tm_yday</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">tm_isdst</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>\u000a</pre></div>\u000a<p>timetuple -&gt; datetime</p>\u000a<div class="monokai"><pre><span></span>timetuple =&gt; timestamp =&gt; datetime [\u770b\u540e\u9762datetime&lt;=&gt;timestamp]\u000a</pre></div>\u000a<hr/>\u000a<h4 id="datetime-date">datetime &lt;=&gt; date</h4>\u000a<p>datetime -&gt; date</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>\u000a</pre></div>\u000a<p>date -&gt; datetime</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">today</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">today</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">min</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>\u000a</pre></div>\u000a<hr/>\u000a<h4 id="datetime-timestamp">datetime &lt;=&gt; timestamp</h4>\u000a<p>datetime -&gt; timestamp</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">timetuple</span><span class="p">())</span>\u000a<span class="o">&gt;&gt;&gt;</span> <span class="n">timestamp</span>\u000a<span class="mf">1421077403.0</span>\u000a</pre></div>\u000a<p>timestamp -&gt; datetime</p>\u000a<div class="monokai"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="mf">1421077403.0</span><span class="p">)</span>\u000a<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>\u000a</pre></div>\u000a    </section>\u000a\u000a    <section id="copyright">\u000a        <div class="copyright">\u000a            \u7248\u6743\u58f0\u660e\uff1a\u81ea\u7531\u8f6c\u8f7d-\u975e\u5546\u7528-\u975e\u884d\u751f-\u4fdd\u6301\u7f72\u540d | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank" >Creative Commons BY-NC-ND 3.0</a>\u000a        </div>\u000a\u000a        <div class="donation">\u000a            <center>\u000a                <div style="width: 70%;">\u000a                    <img src="/imgs/life/donation_w.png" style=""/>\u000a                    <strong>\u000a                        <div style="text-align:center;">\u000a                            \u5982\u679c\u6211\u7684\u6587\u7ae0\u6216\u9879\u76ee\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9, \u53ef\u4ee5\u626b\u7801\u8fdb\u884c\u5c0f\u989d\u6350\u8d60<br>\u000a                            \u5982\u679c\u6709\u4e3b\u673a\u9700\u6c42, \u53ef\u70b9\u4e0b\u65b9vultr\u8fdb\u5165\u6ce8\u518c, \u5e26\u5c0f\u5c3e\u5df4:)<br>\u000a                            \u5982\u679c\u8981\u52a0\u5e7f\u544a\u4f4d, \u8bf7\u90ae\u4ef6\u8054\u7cfb<br>\u000a                        </ol>\u000a                    </strong>\u000a                </div>\u000a            </center>\u000a\u000a        </div>\u000a    </section>\u000a\u000a\u000a    <section id="neighbors">\u000a        <div>\u000a                        <a class="left" href="http://www.wklken.me/posts/2015/01/17/linux-notes.html">\u000a                            \u4e0a\u4e00\u7bc7:  Linux\u53caBash\u7b14\u8bb0\u000a                        </a>\u000a                        <a class="right" href="http://www.wklken.me/posts/2015/03/18/summary-10-2014.html">\u000a                            \u4e0b\u4e00\u7bc7: 2014, \u5728\u53d8\u5316\u4e0e\u575a\u6301\u4e2d\u524d\u8fdb\u000a                        </a>\u000a        </div>\u000a    </section>\u000a\u000a    <section id="ad">\u000a        <!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->\u000a        <!-- [> blog_ad_003 <] -->\u000a        <!-- <ins class="adsbygoogle" -->\u000a            <!-- style="display:block" -->\u000a            <!-- data-ad-client="ca-pub-7635941258020589" -->\u000a            <!-- data-ad-slot="7030416955" -->\u000a            <!-- data-ad-format="auto"></ins> -->\u000a        <!-- <script> -->\u000a        <!-- (adsbygoogle = window.adsbygoogle || []).push({}); -->\u000a        <!-- </script> -->\u000a\u000a        <a href='http://www.vultr.com/?ref=6847203' target="_blank">\u000a        <img src="/imgs/ads/vultr.png"> </img>\u000a        </a>\u000a    </section>\u000a\u000a\u000a\u000a<section id="comments">\u000a        <div class="comments">\u000a            <div id="disqus_thread"></div>\u000a            <script type="text/javascript">\u000a                var disqus_identifier = "posts/2015/03/03/python-base-datetime.html";\u000a                (function() {\u000a                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\u000a                dsq.src = 'http://wklken.disqus.com/embed.js';\u000a                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\u000a                })();\u000a            </script>\u000a            </div>\u000a</section>\u000a\u000a\u000a\u000a</article>\u000a        </section><!--end #main-->\u000a\u000a            <footer class="row">\u000a                <div class="large-12 columns">\u000a                    <p>\u000a                            Copyright © 2015 wklken <br>\u000a                            Hosted on <a href="http://www.vultr.com/?ref=6954153-3B"> vultr </a>. Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>.\u000a                            <!-- Hosted on <a href="http://www.vultr.com/?ref=6847203"> vultr </a> Also <a href="https://www.digitalocean.com/?refcode=8ee73f2c47ce"> DigitalOcean </a>. Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Social Icons by <a href="http://fortawesome.github.io/Font-Awesome/">Font-Awesome</a>. -->\u000a                    </p>\u000a                </div>\u000a            </footer>\u000a\u000a            </div>\u000a        </div>\u000a\u000a        <section id="extras" class="body">\u000a        </section><!-- /#extras -->\u000a\u000a\u000a\u000a<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>\u000a<script src="http://apps.bdimg.com/libs/jquery-scrollUp/2.1.0/jquery.scrollUp.min.js"></script>\u000a<script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>\u000a<script>\u000a    $(function(){\u000a        $.scrollUp({\u000a              scrollText: '', // Text for element, can contain HTML\u000a            });\u000a    });\u000a</script>\u000a\u000a\u000a<script type="text/javascript">\u000a  /* var Swiftype = window.Swiftype || {}; */\u000a  /* Swiftype.searchSearchFields = { */\u000a    /* "page": ["title^10", "body"] */\u000a  /* }; */\u000a\u000a  /* (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){ */\u000a  /* (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t); */\u000a  /* e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e); */\u000a  /* })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st'); */\u000a\u000a  /* _st('install','v6K-_DamCeHvwX6z3o2F'); */\u000a</script>\u000a\u000a\u000a\u000a    <script type="text/javascript">\u000a    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");\u000a    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));\u000a    </script>\u000a    <script type="text/javascript">\u000a    try {\u000a        var pageTracker = _gat._getTracker("UA-42275748-1");\u000a    pageTracker._trackPageview();\u000a    } catch(err) {}</script>\u000a\u000a\u000a\u000a\u000a<div id="share">\u000a<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["mshare","tsina","weixin","douban","meilishuo","mogujie","youdao","sdo","mail","twi","copy","print"],"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"5","bdPos":"right","bdTop":"96.5"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>\u000a</div>\u000a\u000a\u000a\u000a<script  src="http://www.wklken.me/theme/js/scroll-header.js" type="text/javascript"></script>\u000a\u000a\u000a\u000a\u000a</body>\u000a</html>
p3
a.