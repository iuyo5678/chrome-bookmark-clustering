(lp0
S'http://bg.biedalian.com/2014/09/08/useful-nginx-fragment.html'
p1
aS'\xe5\xb8\xb8\xe7\x94\xa8\xe7\x9a\x84 nginx.conf \xe7\x89\x87\xe6\xae\xb5'
p2
aI0
aV<!doctype html>\u000a<html>\u000a<head>\u000a  <meta charset='utf-8'>\u000a  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>\u000a  <title>\u5e38\u7528\u7684 nginx.conf \u7247\u6bb5</title>\u000a  <meta name='viewport' content='width=device-width'>\u000a  <meta name='renderer' content='webkit'>\u000a  <link rel='stylesheet' href='/css/reset.css' />\u000a  <!-- syntax highlighting CSS \u000a  <link rel='stylesheet' href='/css/style.css' />\u000a  <link rel='stylesheet' href='/css/pygments.css' />\u000a  <link rel='stylesheet' href='/css/normalize.css' />\u000a  -->\u000a</head>\u000a<body>\u000a  <header>\u000a    <nav>\u000a      <ul>\u000a        \u000a          <li>\u000a            <a href='/'>home</a>\u000a          </li>\u000a        \u000a          <li>\u000a            <a href='/tags.html'>tags</a>\u000a          </li>\u000a        \u000a          <li>\u000a            <a href='/about.html'>about</a>\u000a          </li>\u000a        \u000a          <li>\u000a            <a href='/links.html'>links</a>\u000a          </li>\u000a        \u000a          <li>\u000a            <a href='/sites.html'>sites</a>\u000a          </li>\u000a        \u000a      </ul>\u000a    </nav>\u000a  </header>\u000a\u000a  <main class='inner'>\u000a    <article>\u000a  <h1>\u5e38\u7528\u7684 nginx.conf \u7247\u6bb5</h1>\u000a  \u000a  <span class="post-category">\u000a    <span class="label"></span>\u000a  </span>\u000a  <div class="post-meta">\u000a    <time class="post-date">2014-09-08 00:00</time>\u000a  </div>\u000a  <div class="post">\u000a  <p>\u8bb0\u5f55\u4e00\u4e9b\u5e38\u7528\u7684 nginx.conf \u7247\u6bb5, \u867d\u7136\u6700\u597d\u7684\u6587\u6863\u59cb\u7ec8\u662f <a href="http://nginx.org/en/docs/">http://nginx.org/en/docs/</a></p>\u000a\u000a<h4>\u51e0\u4e2a\u57fa\u672c\u70b9</h4>\u000a\u000a<p>nginx \u7684\u914d\u7f6e\u5c42\u7ea7, <code>http &gt; server &gt; location</code></p>\u000a\u000a<p>nginx \u7684\u4e00\u6761\u914d\u7f6e\u683c\u5f0f\u4e3a <code>directive value1 value2;</code>, \u5982 <code>listen 80;</code>, listen \u662f directive, 80 \u662f \u53c2\u6570</p>\u000a\u000a<p>directive \u53ef\u4ee5\u7406\u89e3\u4e3a\u51fd\u6570, value1 value2 \u5c31\u662f\u4ed6\u7684\u53c2\u6570, \u53ef\u4ee5\u770b\u51fa nginx \u7684\u914d\u7f6e\u90fd\u662f\u6309\u7a7a\u767d\u5206\u9694\u7684, \u6211\u4e2a\u4eba\u559c\u6b22\u7528\u5355\u4e2a\u7a7a\u683c, \u4f60\u4e5f\u53ef\u4ee5\u7528 tab, \u53e5\u672b\u6709\u5206\u53f7, directive \u6709\u5176\u9002\u7528\u7684\u8303\u56f4, \u82f1\u6587\u79f0 context, \u6bd4\u5982\u6709\u4e9b directive \u53ef\u4ee5\u653e\u5728 server \u4e0b, \u6709\u4e9b\u5374\u53ea\u80fd\u653e\u5728 location \u4e0b</p>\u000a\u000a<p>nginx \u7684\u6587\u4ef6\u6839\u76ee\u5f55\u9ed8\u8ba4\u662f nginx \u5b89\u88c5\u76ee\u5f55, \u4e5f\u5c31\u662f\u8bf4\u4e00\u822c\u662f &#39;/usr/local/nginx&#39;, \u56e0\u6b64\u5728\u586b\u5199\u76f8\u5bf9\u8def\u5f84\u7684\u65f6\u5019, \u8981\u8bb0\u4f4f\u4e0d\u662f nginx.conf \u7684\u76f8\u5bf9\u8def\u5f84, \u6bd4\u5982</p>\u000a<div class="highlight"><pre><code class="language-nginx" data-lang="nginx"><span class="k">access_log</span> <span class="s">logs/myapp-access.log</span><span class="p">;</span>\u000a</code></pre></div>\u000a<h3>\u6309 hostname \u5206 server, \u5e76\u8fdb\u884c\u4ee3\u7406\u8f6c\u53d1</h3>\u000a<div class="highlight"><pre><code class="language-nginx" data-lang="nginx"><span class="k">upstream</span> <span class="s">proxy_app</span> <span class="p">{</span>\u000a    <span class="kn">server</span> <span class="n">127.0.0.1</span><span class="p">:</span><span class="mi">8888</span><span class="p">;</span>\u000a<span class="p">}</span>\u000a\u000a<span class="k">server</span> <span class="p">{</span>\u000a    <span class="kn">server_name</span> <span class="s">myapp.com</span><span class="p">;</span>\u000a    <span class="kn">access_log</span> <span class="s">logs/myapp-access.log</span><span class="p">;</span>\u000a    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>\u000a        <span class="kn">proxy_pass</span> <span class="s">http://proxy_app</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a<span class="p">}</span>\u000a</code></pre></div>\u000a<p><code>server_name</code> \u8fd9\u662f\u6781\u5e38\u7528\u7684\u4f8b\u5b50, \u6bd4\u5982\u7528 nodejs \u6216\u8005 go \u5f00\u4e86\u4e00\u4e2a\u670d\u52a1\u5668, \u4f7f\u7528\u7684\u662f 8888 \u7aef\u53e3, \u540c\u65f6\u53c8\u6ce8\u518c\u4e86 myapp.com \u4f5c\u4e3a\u5176\u57df\u540d, \u90a3\u6700\u57fa\u672c\u7684\u914d\u7f6e\u5c31\u662f\u5f00\u542f\u4e00\u4e2a\u6307\u5411\u8be5 server \u7684 upstream, \u540c\u65f6\u5728\u5339\u914d\u7684\u57df\u540d\u4e3a myapp.com \u5411\u5176\u8f6c\u53d1, \u57df\u540d\u5339\u914d\u503c\u5f97\u662f nginx \u5148\u89e3\u6790 http \u5934\u90e8, \u5982\u679c host \u503c\u4e3a myapp.com \u5219\u5224\u5b9a\u8fd9\u4e2a\u8bf7\u6c42\u5c5e\u4e8e\u8fd9\u4e2a server, <code>server_name</code> \u5177\u4f53\u7684\u6587\u6863\u8bf4\u660e\u89c1<a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#server_name">http://nginx.org/en/docs/http/ngx_http_core_module.html#server_name</a></p>\u000a\u000a<p>location \u662f\u7528\u6765\u5339\u914d\u8def\u5f84\u7684, <code>location /</code> \u662f\u6307\u5339\u914d\u4e00\u5207\u8def\u5f84, \u56e0\u4e3a\u9ed8\u8ba4\u5339\u914d\u662f\u6307<strong>\u5305\u542b</strong>, <code>location /</code> \u5c31\u662f\u8bf4\u5305\u542b\u4e00\u5207\u5e26\u6709 <code>/</code> \u7684\u8def\u5f84, \u800c\u6240\u6709\u7684\u8def\u5f84\u90fd\u662f\u4ee5 <code>/</code> \u7684\u5f00\u5934\u7684, \u5982\u679c\u60f3\u8981\u53ea\u5339\u914d <code>/</code> \u8def\u5f84, \u5219\u5e94\u8be5\u4f7f\u7528 <code>location = / {}</code>, \u5173\u4e8e location \u5339\u914d\u66f4\u591a\u7684\u53ef\u4ee5\u770b\u5b98\u65b9\u6587\u6863<a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#location">http://nginx.org/en/docs/http/ngx_http_core_module.html#location</a></p>\u000a\u000a<p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u8fd8\u6709\u4e00\u4e2a directive: <code>access_log logs/myapp-access.log;</code> \u8fd9\u4e00\u6761\u4e5f\u662f\u975e\u5e38\u7684\u5e38\u7528, \u5982\u679c\u4e0d\u5199\u7684\u8bdd, \u8bbf\u95ee\u65e5\u5fd7 nginx \u4f1a\u9ed8\u8ba4\u8bb0\u5f55\u5728 <code>logs/access.log</code>, \u800c\u9519\u8bef\u65e5\u5fd7\u662f\u8bb0\u5f55\u5728 <code>logs/error.log</code> \u4e2d\u7684, \u4f46\u662f\u8fd9\u4e2aserver \u662f\u4e13\u95e8\u7ed9 myapp.com \u7528\u7684, \u5982\u679c\u6ca1\u6709\u548c\u5176\u4ed6\u8bbf\u95ee\u65e5\u5fd7\u5206\u5f00, \u65e5\u5fd7\u4e2d\u53c8\u6ca1\u6709\u5b58 <code>$hostname</code> \u8fd9\u6837\u7684\u4fe1\u606f, \u5982\u679c server \u4e2d\u51fa\u4e86\u95ee\u9898, \u6211\u4eec\u662f\u5f88\u96be\u901a\u8fc7\u65e5\u5fd7\u5206\u6790\u51fa\u6765\u7684, \u56e0\u6b64, \u4e13\u95e8\u7ed9\u4ed6\u4e00\u4e2a\u65e5\u5fd7\u662f\u975e\u5e38\u975e\u5e38\u91cd\u8981\u7684, \u5982\u679c\u4f60\u7684 qps \u5f88\u9ad8\u7684\u8bdd, \u8fd8\u5efa\u8bae\u7528 logrotate \u5bf9\u8fd9\u4e9b\u65e5\u5fd7\u8fdb\u884c\u6309\u65e5\u5207\u5272\u548c\u7ba1\u7406, \u5982\u679c\u4f60\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u6709\u4e86\u4e13\u95e8\u7684\u65e5\u5fd7\u7ba1\u7406, \u53ef\u4ee5\u4f7f\u7528 <code>access_log off;</code> \u6765\u5173\u95ed\u65e5\u5fd7</p>\u000a\u000a<p>\u8981\u6ce8\u610f\u7684\u662f, nginx \u9ed8\u8ba4\u7684 <code>proxy_pass</code> \u7528\u7684\u662f http1.0, \u56e0\u6b64\u4f60\u4e0d\u52a0 connection \u5934\u7684\u8bdd\u9ed8\u8ba4\u662f\u6ca1\u6709\u957f\u8fde\u63a5\u7684, \u5982\u679c\u8d1f\u8f7d\u538b\u529b\u5927, \u8fd9\u4f1a\u7ed9\u540e\u7aef\u7684\u670d\u52a1\u5668\u9020\u6210\u5f88\u5927\u7684\u538b\u529b, \u5f80\u5f80\u80fd\u770b\u5230\u51e0\u5343\u4e2a <code>time_wait</code> \u90a3\u6837\u7684 tcp \u8fde\u63a5, \u5982\u679c\u60f3\u8981\u8f6c\u53d1\u81f3\u670d\u52a1\u5668\u7528\u957f\u8fde\u63a5, \u5e38\u7528\u7684\u505a\u6cd5\u662f</p>\u000a<div class="highlight"><pre><code class="language-nginx" data-lang="nginx"><span class="k">http</span> <span class="p">{</span>\u000a    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>\u000a    <span class="kn">server</span> <span class="p">{</span>\u000a        <span class="kn">server_name</span> <span class="s">myapp.com</span><span class="p">;</span>\u000a        <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>\u000a            <span class="kn">proxy_pass</span> <span class="s">http://myapp.com</span><span class="p">;</span>\u000a            <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="s">&quot;&quot;</span><span class="p">;</span>\u000a        <span class="p">}</span>\u000a    <span class="p">}</span>\u000a<span class="p">}</span>\u000a</code></pre></div>\u000a<p>\u4e0a\u9762\u591a\u7684\u4e24\u4e2a <code>proxy_http_version</code> \u663e\u7136\u5c31\u662f\u628a\u9ed8\u8ba4\u7684 1.0 \u6539\u6210 1.1, \u53ef\u540e\u9762\u7684<code>proxy_set_header</code>\u53c8\u662f\u4ec0\u4e48\u610f\u601d\u5462? \u800c\u4e14\u4e3a\u4ec0\u4e48\u4e00\u4e2a\u5728 http \u4e2d, \u4e00\u4e2a\u5728 location \u4e2d, \u5728\u4e00\u8d77\u4e0d\u884c\u5417?</p>\u000a\u000a<blockquote>\u000a<p><code>proxy_http_version</code> \u5199\u5728 http \u5916\u9762\u662f\u8ba9\u6240\u6709\u7684 proxy \u8f6c\u53d1\u90fd\u53d8\u6210 <code>http1.1</code>, \u800c\u7531\u4e8e\u6bcf\u6b21\u5230 location \u4e2d, Connection \u8fd9\u4e2a\u5934\u90fd\u4f1a\u88ab\u5199\u6210 <code>close</code>, \u56e0\u6b64, \u6211\u4eec\u4e0d\u5f97\u4e0d\u5728 location \u4e2d\u518d\u6b21\u628a\u8fd9\u4e2a\u5934\u6e05\u9664, \u6e05\u9664\u7684\u65b9\u6cd5\u5c31\u662f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32</p>\u000a</blockquote>\u000a\u000a<h3>\u9759\u6001\u6587\u4ef6</h3>\u000a\u000a<p>\u6bd4\u4e0a\u9762\u7528\u7684\u66f4\u52a0\u5e7f\u6cdb\u7684 nginx \u7528\u6cd5\u662f \u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668, \u8fd9\u4e5f\u662f nginx \u5f53\u521d\u7684\u4e00\u5927\u5356\u70b9</p>\u000a<div class="highlight"><pre><code class="language-nginx" data-lang="nginx"><span class="k">location</span> <span class="s">/</span> <span class="p">{</span>\u000a    <span class="kn">root</span> <span class="s">html</span><span class="p">;</span>\u000a    <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.htm</span><span class="p">;</span>\u000a    <span class="kn">autoindex</span> <span class="no">on</span><span class="p">;</span>\u000a<span class="p">}</span>\u000a</code></pre></div>\u000a<p>\u8fd9\u4e09\u884c\u7684\u610f\u601d\u5206\u522b\u662f</p>\u000a\u000a<ul>\u000a<li><p>root html: \u4ee5 nginx \u4e0b\u7684 html \u6587\u4ef6\u5939\u4f5c\u4e3a\u8ddf\u76ee\u5f55, html \u91cc\u7684\u6587\u4ef6\u662f\u5f00\u653e\u7684, \u53ef\u4ee5\u88ab\u8bbf\u95ee\u5230\u7684, \u800c html \u5916\u9762\u7684\u5219\u4e0d\u53ef\u4ee5, \u5373\u4fbf\u662f <code>../..</code> \u8fd9\u6837\u4e5f\u65e0\u6cd5\u88ab\u8bbf\u95ee\u5230</p></li>\u000a<li><p>index index.html: \u6307\u7684\u662f\u5982\u679c\u8bbf\u95ee\u8def\u5f84, \u90a3\u5c31\u8bbf\u95ee\u5c1d\u8bd5\u5339\u914d index directive \u540e\u9762\u7684\u6587\u4ef6</p></li>\u000a<li><p>autoindex on: \u6307\u7684\u662f\u5f00\u542f\u76ee\u5f55\u663e\u793a, \u5728 nginx \u662f\u5bf9\u5916\u7684\u65f6\u5019\u6700\u597d\u628a\u5b83\u5173\u6389</p></li>\u000a</ul>\u000a\u000a<h3>\u9632 DDOS</h3>\u000a\u000a<p>\u6211\u4eec\u8fd9\u8bf4\u7684\u5e76\u4e0d\u662f\u90a3\u79cd syn flood \u4e4b\u7c7b\u7684 ddos(\u8fd9\u79cd linux \u81ea\u5df1\u5c31\u6321\u4f4f\u4e86), \u800c\u662f\u6307\u6b63\u5e38\u7684, \u5065\u5eb7\u7684\u4f46\u662f\u53c8\u8fc7\u91cf\u7684 http \u8bf7\u6c42</p>\u000a<div class="highlight"><pre><code class="language-nginx" data-lang="nginx"><span class="k">http</span> <span class="p">{</span>\u000a    <span class="kn">limit_conn_zone</span> <span class="nv">$binary_remote_addr</span> <span class="s">zone=conn_limit_per_ip:50m</span><span class="p">;</span>\u000a    <span class="kn">limit_req_zone</span> <span class="nv">$binary_remote_addr</span> <span class="s">zone=req_limit_per_ip:50m</span> <span class="s">rate=50r/s</span><span class="p">;</span>\u000a    <span class="kn">server</span> <span class="p">{</span>\u000a        <span class="kn">limit_conn</span> <span class="s">conn_limit_per_ip</span> <span class="mi">50</span><span class="p">;</span>\u000a        <span class="kn">limit_req</span> <span class="s">zone=req_limit_per_ip</span> <span class="s">burst=500</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a<span class="p">}</span>\u000a</code></pre></div>\u000a<p><code>limit_conn</code> \u548c <code>limit_conn_zone</code> \u5bf9\u5e94\u7684\u662f <a href="http://nginx.org/en/docs/http/ngx_http_limit_conn_module.html">http://nginx.org/en/docs/http/ngx_http_limit_conn_module.html</a> \u6a21\u5757\u000a<code>limit_req</code> \u548c <code>limit_req_zone</code> \u5bf9\u5e94\u7684\u662f <a href="http://nginx.org/en/docs/http/ngx_http_limit_req_module.html">http://nginx.org/en/docs/http/ngx_http_limit_req_module.html</a> \u6a21\u5757</p>\u000a\u000a<p>http \u4e0b\u9762\u7684\u4e24\u4e2a zone directive \u53ef\u4ee5\u7406\u89e3\u4e3a\u58f0\u660e\u4e86\u8fd9\u4e24\u4e2a\u5b57\u5178, \u5176\u4e2d\u4e00\u4e2a\u53eb <code>conn_limit_per_ip</code>, \u53e6\u4e00\u4e2a\u53eb <code>req_limit_per_ip</code>, \u4ed6\u4eec\u90fd\u662f\u4ee5 <code>$binary_remote_addr</code> \u4f5c\u4e3a\u952e\u503c\u8bb0\u6570, \u5192\u53f7\u540e\u9762\u7684 <code>50m</code> \u8868\u793a\u5360\u7528\u5185\u5b58\u7684\u5927\u5c0f, nginx \u914d\u7f6e\u4e2d\u7684\u5185\u5b58\u90fd\u662f shared \u5185\u5b58, \u4e5f\u5c31\u662f\u8bf4 n \u4e2a worker \u5171\u4eab\u7684</p>\u000a\u000a<p>server \u4e0b\u9762\u7684 <code>limit_conn conn_limit_per_ip 50;</code> \u8868\u793a\u4e0a\u9762\u5b9a\u4e49\u7684\u5b57\u5178, \u8fd9\u4e2a server \u8bb0\u6570\u4e0d\u80fd\u8d85\u8fc7 50, \u8fd9\u662f\u5565\u610f\u601d\u5462? \u6211\u4eec\u7528 remote_addr \u4e3a\u952e\u503c, \u5c31\u662f\u4fdd\u5b58\u4e86\u6240\u6709\u7684 ip, \u4e00\u4e2a ip \u5bf9\u5e94\u7684\u503c\u4e0d\u8d85\u8fc7 50, \u8fd9\u5c31\u9632\u6b62\u4e86\u5355\u4e2a\u5730\u5740\u4f7f\u7528\u66b4\u529b\u4e0d\u65ad\u8bf7\u6c42\u4f60\u7684\u670d\u52a1\u5668\u81f3\u762b\u75ea\u7684\u9690\u60a3, \u5f53\u7136\u4f60\u8bf4\u6709\u4eba\u7528\u51e0\u5341\u53f0\u670d\u52a1\u5668\u653b\u51fb\u4f60\u548b\u529e, \u90a3\u5c31\u6ca1\u529e\u6cd5\u4e86, \u62a5\u8b66\u5427\u5c11\u5e74!</p>\u000a\u000a<p>\u7406\u89e3\u4e86 <code>limit_conn</code>, \u7406\u89e3 <code>limit_req</code> \u5e76\u4e0d\u96be, <code>limit_conn</code> \u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u76f4\u5f00\u7740\u7684\u957f\u8fde\u63a5, \u4f46\u662f\u6709\u4eba\u4e00\u76f4\u7528\u77ed\u8fde\u63a5\u8bf7\u6c42\u9a9a\u6270\u4f60\u548b\u529e, \u8fd9\u65f6\u5019\u5c31\u8981\u7528\u4e0a <code>limit_req</code></p>\u000a\u000a<p>\u4eca\u5929\u7684 nginx \u5c0f\u7247\u6bb5\u5c31\u5230\u8fd9\u91cc, \u4e3a\u4ec0\u4e48\u6700\u8fd1\u90fd\u662f\u8fd9\u4e9b\u6c34\u6587, \u5509, \u53ea\u80fd\u8bf4\u4e1a\u52a1\u7e41\u5fd9\u554a, \u8bf4\u6280\u672f\u7684\u6015\u662f\u8ddf\u4e0d\u4e0a\u8282\u594f\u4e86, \u53ea\u597d\u8bf4\u8bf4\u65e5\u5e38\u751f\u6d3b\u4e2d\u7684\u5c0f\u7ecf\u9a8c, \u4e0b\u6b21\u4f1a\u8bf4\u6700\u4f73 <code>log_format</code> \u5b9e\u8df5, \u600e\u4e48\u8bb0\u5f55\u65e5\u5fd7\u53ef\u4ee5\u8ba9\u4f60\u7528 awk \u548c perl \u6392\u67e5\u65e5\u5fd7\u66f4\u65b9\u4fbf</p>\u000a\u000a  </div>\u000a  <div class="post-meta">\u000a    <span>Tags: </span>\u000a    \u000a      <span style="margin: 5px"><a href="/tags.html#nginx">nginx</a></span>\u000a    \u000a      <span style="margin: 5px"><a href="/tags.html#server">server</a></span>\u000a    \u000a  </div>\u000a  <!-- baidu share -->\u000a  <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="\u5206\u4eab\u5230\u65b0\u6d6a\u5fae\u535a"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="\u5206\u4eab\u5230QQ\u7a7a\u95f4"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="\u5206\u4eab\u5230\u817e\u8baf\u5fae\u535a"></a><a href="#" class="bds_renren" data-cmd="renren" title="\u5206\u4eab\u5230\u4eba\u4eba\u7f51"></a><a href="#" class="bds_t163" data-cmd="t163" title="\u5206\u4eab\u5230\u7f51\u6613\u5fae\u535a"></a></div>\u000a  <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=86835285.js?cdnversion='+~(-new Date()/36e5)];</script>\u000a  <!-- end baidu share -->\u000a  <div class="section-nav">\u000a    <div class="left align-left">\u000a      \u000a      <a href="/2014/08/13/lua-nginx.html" class="prev">\u4e0a\u4e00\u7bc7:<b class="mobile-ignore"> lua + nginx \u53ef\u80fd\u662f\u6700\u7a33\u5065\u7684\u540e\u7aef\u65b9\u6848</b></a>\u000a      \u000a    </div>\u000a    <div class="right align-right">\u000a      \u000a      <a href="/2014/09/11/cmder.html" class="next">\u4e0b\u4e00\u7bc7:<b class="mobile-ignore"> \u9006\u5929\u795e\u5668 cmder</b></a>\u000a      \u000a    </div>\u000a  </div>\u000a</article>\u000a<!-- Duoshuo Comment BEGIN -->\u000a<div class="ds-thread"></div>\u000a<script type="text/javascript">\u000avar duoshuoQuery = {short_name:"biedalian"};\u000a  (function() {\u000a    var ds = document.createElement('script');\u000a    ds.type = 'text/javascript';ds.async = true;\u000a    ds.src = 'http://static.duoshuo.com/embed.js';\u000a    ds.charset = 'UTF-8';\u000a    (document.getElementsByTagName('head')[0] \u000a    || document.getElementsByTagName('body')[0]).appendChild(ds);\u000a  })();\u000a  </script>\u000a<!-- Duoshuo Comment END -->\u000a\u000a\u000a  </main>\u000a\u000a  <footer>\u000a    <a href='https://github.com/chunpu'>Chunpu</a> Copyright © 2014 blog.biedalian.com\u000a  </footer>\u000a</body>\u000a</html>\u000a<!-- ga -->\u000a<script>\u000a  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\u000a  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\u000a  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\u000a  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\u000a  ga('create', 'UA-48559923-1', 'biedalian.com');\u000a  ga('send', 'pageview');\u000a</script>\u000a
p3
a.